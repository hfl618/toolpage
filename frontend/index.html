<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å·¥ä½œå° | 618002.xyz</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/remixicon@3.5.0/fonts/remixicon.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Plus Jakarta Sans', sans-serif; background: #f8fafc; color: #1e293b; -webkit-font-smoothing: antialiased; }
        .bg-mesh { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; background: radial-gradient(at 0% 0%, rgba(59,130,246,0.05) 0px, transparent 50%), radial-gradient(at 100% 0%, rgba(139,92,246,0.05) 0px, transparent 50%); }
        .glass-nav { background: rgba(255, 255, 255, 0.85); backdrop-filter: blur(20px); border-bottom: 1px solid rgba(0,0,0,0.05); }
        .bento-card { background: white; border: 1px solid rgba(226, 232, 240, 0.7); transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275); }
        .bento-card:hover { transform: translateY(-6px); border-color: #3b82f6; box-shadow: 0 20px 30px -10px rgba(59, 130, 246, 0.15); }
        .btn-dark { background: #0f172a; color: white; transition: all 0.3s ease; }
        .btn-dark:hover { background: #1e293b; transform: scale(1.02); }
        #toast-container { position: fixed; bottom: 30px; left: 50%; transform: translateX(-50%); z-index: 10000; }
        .toast { background: #0f172a; color: white; padding: 12px 28px; border-radius: 100px; font-weight: 600; box-shadow: 0 15px 30px rgba(0,0,0,0.2); animation: slideUp 0.4s; }
        @keyframes slideUp { from { transform: translateY(40px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
        .fade-in { animation: fadeIn 0.5s ease-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
    </style>
    <script>
        function showToast(m) {
            const c = document.getElementById('toast-container') || (()=>{const d=document.createElement('div');d.id='toast-container';document.body.appendChild(d);return d;})();
            const el = document.createElement('div'); el.className = 'toast'; el.innerHTML = m; c.appendChild(el); setTimeout(()=>el.remove(), 3000);
        }
    </script>
</head>
<body class="antialiased">
  <div class="bg-mesh"></div>
  <nav class="fixed top-0 w-full z-40 glass-nav h-20 flex items-center px-6">
    <div class="max-w-7xl mx-auto w-full flex justify-between items-center">
      <div class="flex items-center gap-4 cursor-pointer" onclick="location.reload()">
        <div class="w-10 h-10 bg-slate-900 rounded-xl flex items-center justify-center text-white text-xl font-black">6</div>
        <span class="text-xl font-black tracking-tightest">Hub</span>
      </div>
      <div class="flex items-center gap-6">
        <div class="hidden md:flex relative items-center">
          <i class="ri-search-2-line absolute left-4 text-slate-400"></i>
          <input type="text" id="globalSearch" placeholder="è¾“å…¥å…³é”®è¯æ£€ç´¢..." class="bg-slate-100/80 border-none rounded-2xl py-2.5 pl-11 pr-6 text-sm w-72 focus:bg-white focus:ring-4 focus:ring-blue-500/10 transition-all outline-none font-bold text-slate-600">
        </div>
        <div id="user-area">
            <a href="/login" class="px-6 py-2.5 btn-dark rounded-full text-sm font-bold shadow-lg">ç«‹å³ç™»å½•</a>
        </div>
      </div>
    </div>
  </nav>

  <main class="max-w-7xl mx-auto px-6 pt-36 pb-20">
    <div class="flex flex-col md:flex-row justify-between items-end gap-6 mb-16 fade-in">
      <div>
        <h1 class="text-5xl font-black text-slate-900 tracking-tighter mb-4">åº”ç”¨çŸ©é˜µ</h1>
        <p class="text-slate-400 font-bold">é«˜æ•ˆæ•°å­—åŒ–å·¥ä½œæµã€‚æ¬¢è¿å›åˆ° 618002.xyzã€‚</p>
      </div>
      <div class="flex gap-2 p-1.5 bg-white rounded-2xl border border-gray-100 shadow-sm" id="filters">
        <button onclick="filter('all')" id="btn-all" class="px-5 py-2.5 rounded-xl text-xs font-black bg-slate-900 text-white shadow-md transition-all">å…¨éƒ¨</button>
        <button onclick="filter('dev')" id="btn-dev" class="px-5 py-2.5 rounded-xl text-xs font-black text-slate-400 hover:bg-gray-50 transition-all">å…ƒå™¨ä»¶ç®¡ç†</button>
        <button onclick="filter('ai')" id="btn-ai" class="px-5 py-2.5 rounded-xl text-xs font-black text-slate-400 hover:bg-gray-50 transition-all">AI æ™ºèƒ½</button>
      </div>
    </div>

    <div id="grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8 fade-in"></div>
    <div id="empty" class="hidden text-center py-32"><div class="text-7xl mb-4">ğŸ”</div><p class="text-slate-400 font-black">æ²¡æœ‰æ‰¾åˆ°ä»»ä½•åŒ¹é…ç»“æœ</p></div>
  </main>

  <div id="modal" class="fixed inset-0 z-[100] hidden flex items-center justify-center p-4">
    <div class="absolute inset-0 bg-slate-900/60 backdrop-blur-md transition-opacity" onclick="closeModal()"></div>
    <div class="relative bg-white w-full max-w-4xl rounded-[40px] shadow-2xl flex flex-col md:flex-row overflow-hidden border border-gray-100 animate-in zoom-in-95 duration-300">
        <div class="p-12 md:w-1/2 flex flex-col justify-between">
            <div>
                <div class="flex items-center gap-6 mb-10">
                    <div id="modalIcon" class="w-20 h-20 rounded-3xl flex items-center justify-center text-4xl shadow-inner text-white flex-shrink-0 bg-slate-900"></div>
                    <h2 id="modalTitle" class="text-4xl font-black text-slate-900 tracking-tighter leading-tight"></h2>
                </div>
                <p id="modalDesc" class="text-slate-500 font-medium text-lg leading-relaxed mb-8"></p>
            </div>
            <button id="launchBtn" class="w-full py-5 btn-dark rounded-2xl font-black text-lg shadow-2xl">ç«‹å³è¿›å…¥ç³»ç»Ÿ</button>
        </div>
        <div class="p-12 md:w-1/2 bg-slate-50/80 overflow-y-auto max-h-[550px]">
            <h3 class="text-[10px] font-black text-slate-400 uppercase tracking-widest mb-8 border-b border-gray-100 pb-4">ç³»ç»Ÿå£ç¢‘ / ç”¨æˆ·åé¦ˆ</h3>
            <div id="modalComments" class="space-y-4"></div>
        </div>
        <button onclick="closeModal()" class="absolute top-8 right-8 w-10 h-10 bg-white rounded-full flex items-center justify-center shadow-lg text-slate-400 hover:text-slate-900 hover:rotate-90 transition-all"><i class="ri-close-line text-2xl"></i></button>
    </div>
  </div>

  <script>
    const tools = [
      { id:'stock', title:'å…ƒå™¨ä»¶ç®¡ç†', desc:'åº“å­˜ã€BOMã€æ‰«ç ä¸€ä½“åŒ–', longDesc:'å…¨æ–¹ä½æ•°å­—åŒ–ä»“å‚¨è§£å†³æ–¹æ¡ˆã€‚æ”¯æŒå®æ—¶åº“å­˜ç›‘æ§ã€BOMæ™ºèƒ½æ¯”ä»·ã€å¤šçº§åº“ä½ç®¡ç†åŠç‰©æ–™å…¨ç”Ÿå‘½å‘¨æœŸè¿½æº¯ã€‚', icon:'ri-cpu-fill', cat:'dev', color:'bg-gradient-to-br from-blue-500 to-indigo-600', comments:['BOMè§£æéå¸¸å‡†ç¡®','æ‰«ç å…¥åº“æå…¶ä¸æ»‘','ç›®å‰ç”¨è¿‡æœ€å¥½ç”¨çš„ç®¡ç†ç³»ç»Ÿ'] , url:'/inventory/' },
      { id:'lvgl', title:'LVGL å›¾åƒå¤„ç†', desc:'LVGL ä¸“ç”¨å›¾åƒè½¬æ¢å·¥å…·', longDesc:'ä¸“ä¸º LVGL åµŒå…¥å¼å›¾å½¢åº“è®¾è®¡çš„å›¾åƒå¤„ç†å·¥å…·ã€‚æ”¯æŒå°† PNG è½¬æ¢ä¸º C æ•°ç»„æˆ–äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œæ”¯æŒå¤šç§é¢œè‰²æ ¼å¼ã€æŠ–åŠ¨ã€Alpha é¢„ä¹˜ä»¥åŠ RLE/LZ4 å‹ç¼©ã€‚', icon:'ri-image-edit-fill', cat:'dev', color:'bg-gradient-to-br from-emerald-500 to-teal-600', comments:['è½¬æ¢é€Ÿåº¦å¾ˆå¿«','ç”Ÿæˆçš„ C æ•°ç»„å¾ˆè§„èŒƒ','è§£å†³äº†æˆ‘æ ¼å¼è½¬æ¢çš„éš¾é¢˜'] , url:'/lvgl_image/' },
      { id:'ai', title:'AI è¯†åˆ«ä¸­å¿ƒ', desc:'è§†è§‰æ¨¡å‹ç‰©æ–™åˆ†æ', longDesc:'åŸºäºæœ€å…ˆè¿›çš„è§†è§‰å¤§è¯­è¨€æ¨¡å‹ï¼Œå®æ—¶åˆ†æç”µå­å…ƒä»¶å‹å·ã€å¤–è§‚ç‘•ç–µæ£€æµ‹ã€OCRæ–‡å­—è‡ªåŠ¨è¯†åˆ«å¹¶ç»“æ„åŒ–å½’æ¡£ã€‚', icon:'ri-eye-fill', cat:'ai', color:'bg-gradient-to-br from-purple-500 to-pink-600', comments:['OCR å‡†ç¡®ç‡å¾ˆé«˜','è¯†åˆ«é€Ÿåº¦åœ¨1ç§’ä»¥å†…','èŠ‚çœäº†å¤§é‡äººå·¥å½•å…¥æ—¶é—´'] , url:'/ai_tools' },
      { id:'admin', title:'ç³»ç»Ÿæ§åˆ¶å°', desc:'æƒé™ä¸å…¨å±€æ—¥å¿—å®¡è®¡', longDesc:'ç®¡ç†å‘˜ä¸“ç”¨æŒ‡æŒ¥ä¸­å¿ƒã€‚æä¾›å®æ—¶ API æµé‡ç›‘æ§ã€å¤šçº§ç”¨æˆ·è§’è‰²æƒé™åˆ†é…ã€å…¨ç«™æ“ä½œæ—¥å¿—æº¯æºå®¡è®¡ã€‚', icon:'ri-terminal-box-fill', cat:'dev', color:'bg-gradient-to-br from-slate-700 to-slate-900', comments:['å®¡è®¡åŠŸèƒ½å¾ˆå¼ºå¤§','æ—¥å¿—è®°å½•éå¸¸è¯¦å°½'] , url:'/admin' }
    ];

    function render(list) {
      const g = document.getElementById('grid'), e = document.getElementById('empty');
      if(list.length === 0) { g.innerHTML = ''; e.classList.remove('hidden'); return; }
      e.classList.add('hidden');
      g.innerHTML = list.map(t => `
        <div class="bento-card p-10 rounded-[36px] cursor-pointer group relative overflow-hidden" onclick="openModal('${t.id}')">
          <div class="w-16 h-16 ${t.color} rounded-2xl flex items-center justify-center text-white text-3xl mb-8 shadow-xl group-hover:scale-110 group-hover:rotate-3 transition-transform"><i class="${t.icon}"></i></div>
          <h3 class="text-2xl font-black text-slate-900 mb-2 tracking-tight">${t.title}</h3>
          <p class="text-slate-400 font-bold text-sm leading-relaxed">${t.desc}</p>
        </div>`).join('');
    }

    let currentCat = 'all';
    function filter(c) {
      currentCat = c;
      ['all','dev','ai'].forEach(id => {
        const btn = document.getElementById('btn-'+id);
        if(id === c) btn.className = "px-5 py-2.5 rounded-xl text-xs font-black bg-slate-900 text-white shadow-md transition-all";
        else btn.className = "px-5 py-2.5 rounded-xl text-xs font-black text-slate-400 hover:bg-gray-50 transition-all";
      });
      apply();
    }

    function apply() {
      const s = document.getElementById('globalSearch').value.toLowerCase();
      const f = tools.filter(t => (currentCat==='all' || t.cat===currentCat) && (t.title.toLowerCase().includes(s) || t.desc.toLowerCase().includes(s) || t.longDesc.toLowerCase().includes(s)));
      render(f);
    }

    document.getElementById('globalSearch').addEventListener('input', apply);

    function openModal(id) {
      const t = tools.find(x => x.id === id);
      document.getElementById('modalTitle').innerText = t.title;
      document.getElementById('modalDesc').innerText = t.longDesc;
      document.getElementById('modalIcon').className = "w-20 h-20 rounded-3xl flex items-center justify-center text-4xl shadow-inner text-white flex-shrink-0 " + t.color;
      document.getElementById('modalIcon').innerHTML = `<i class="${t.icon}"></i>`;
      document.getElementById('launchBtn').onclick = () => location.href = t.url;
      document.getElementById('modalComments').innerHTML = t.comments.map(c => `
        <div class="bg-white p-5 rounded-3xl border border-gray-100 text-sm text-slate-600 shadow-sm font-bold">
          <i class="ri-chat-smile-fill text-blue-100 mr-2"></i>${c}
        </div>`).join('');
      document.getElementById('modal').classList.remove('hidden');
    }

    function closeModal() { document.getElementById('modal').classList.add('hidden'); }

    async function sync() {
      try {
        const r = await fetch('/auth/profile_api');
        const d = await r.json();
        if(d.success && d.user) {
          const user = d.user;
          const userHtml = `
            <div class="relative group">
              <button class="flex items-center gap-2 p-1.5 pr-4 rounded-full bg-white border border-gray-100 shadow-sm">
                <img id="nav-avatar" src="${user.avatar || 'https://api.dicebear.com/7.x/avataaars/svg?seed=' + user.username}" class="w-8 h-8 rounded-full object-cover">
                <span id="nav-name" class="text-sm font-bold text-slate-700">${user.username}</span>
                <i class="ri-arrow-down-s-line text-slate-400"></i>
              </button>
              <div class="absolute right-0 mt-3 w-52 bg-white rounded-2xl shadow-2xl border border-gray-100 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all p-2 z-50 transform origin-top-right">
                <div class="px-4 py-2 border-b border-gray-50 mb-1 text-[10px] font-black text-blue-500 uppercase tracking-widest">${user.role} MEMBER</div>
                <a href="/profile" class="flex items-center gap-3 px-4 py-2.5 text-sm font-bold text-slate-600 hover:bg-blue-50 hover:text-blue-600 rounded-xl transition"><i class="ri-user-settings-fill"></i> ä¸ªäººä¸­å¿ƒ</a>
                <button onclick="location.href='/logout'" class="w-full flex items-center gap-3 px-4 py-2.5 text-sm font-bold text-red-500 hover:bg-red-50 rounded-xl transition text-left"><i class="ri-logout-box-fill"></i> é€€å‡ºç™»å½•</button>
              </div>
            </div>`;
          document.getElementById('user-area').innerHTML = userHtml;
        }
      } catch(e){}
    }
    render(tools); sync();
  </script>
</body>
</html>