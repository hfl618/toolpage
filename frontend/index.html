<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å·¥ä½œå° | 618002.xyz</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/remixicon@3.5.0/fonts/remixicon.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Plus Jakarta Sans', sans-serif; background: #f8fafc; color: #1e293b; -webkit-font-smoothing: antialiased; }
        .bg-mesh { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; background: radial-gradient(at 0% 0%, rgba(59,130,246,0.05) 0px, transparent 50%), radial-gradient(at 100% 0%, rgba(139,92,246,0.05) 0px, transparent 50%); }
        .glass-nav { background: rgba(255, 255, 255, 0.85); backdrop-filter: saturate(180%) blur(20px); border-bottom: 1px solid rgba(0,0,0,0.05); }
        .bento-card { background: white; border: 1px solid rgba(226, 232, 240, 0.7); transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275); }
        .bento-card:hover { transform: translateY(-6px); border-color: #3b82f6; box-shadow: 0 20px 30px -10px rgba(59, 130, 246, 0.15); }
        .btn-dark { background: #0f172a; color: white; transition: all 0.3s ease; }
        .btn-dark:hover { background: #1e293b; transform: scale(1.02); }
        #toast-container { position: fixed; bottom: 30px; left: 50%; transform: translateX(-50%); z-index: 10000; }
        .toast { background: #0f172a; color: white; padding: 12px 28px; border-radius: 100px; font-weight: 600; box-shadow: 0 15px 30px rgba(0,0,0,0.2); animation: slideUp 0.4s; }
        @keyframes slideUp { from { transform: translateY(40px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
        .lang-switcher { display: flex; gap: 4px; background: #f1f5f9; padding: 4px; border-radius: 100px; }
        .lang-btn { padding: 4px 12px; border-radius: 100px; font-size: 10px; font-weight: 800; cursor: pointer; transition: 0.2s; }
        .lang-btn.active { background: white; color: #3b82f6; box-shadow: 0 2px 4px rgba(0,0,0,0.05); }
    </style>
    <script>
        function showToast(m) {
            const c = document.getElementById('toast-container') || (()=>{const d=document.createElement('div');d.id='toast-container';document.body.appendChild(d);return d;})();
            const el = document.createElement('div'); el.className = 'toast'; el.innerHTML = m; c.appendChild(el); setTimeout(()=>el.remove(), 3000);
        }
    </script>
</head>
<body class="antialiased">
  <div class="bg-mesh"></div>
  
  <nav class="fixed top-0 w-full z-40 glass-nav h-20 flex items-center px-6">
    <div class="max-w-7xl mx-auto w-full flex justify-between items-center">
      <div class="flex items-center gap-4 cursor-pointer" onclick="location.reload()">
        <div class="w-10 h-10 bg-slate-900 rounded-xl flex items-center justify-center text-white text-xl font-black">6</div>
        <span class="text-xl font-black tracking-tightest">Hub</span>
      </div>

      <div class="flex items-center gap-6">
        <!-- æœç´¢æ  -->
        <div class="hidden md:flex relative items-center">
          <i class="ri-search-2-line absolute left-4 text-slate-400"></i>
          <input type="text" id="globalSearch" placeholder="è¾“å…¥å…³é”®è¯æ£€ç´¢..." class="bg-slate-100/80 border-none rounded-2xl py-2.5 pl-11 pr-6 text-sm w-72 focus:bg-white focus:ring-4 focus:ring-blue-500/10 transition-all outline-none font-bold text-slate-600">
        </div>

        <!-- è¯­è¨€åˆ‡æ¢ -->
        <div class="lang-switcher">
            <div onclick="setLanguage('zh')" id="lang-zh" class="lang-btn active">ä¸­æ–‡</div>
            <div onclick="setLanguage('en')" id="lang-en" class="lang-btn">EN</div>
        </div>

        <!-- ç”¨æˆ·å¤´åƒ -->
        <div id="user-area" class="relative group">
            <div class="animate-pulse w-8 h-8 bg-slate-200 rounded-full"></div>
        </div>
      </div>
    </div>
  </nav>

  <main class="max-w-7xl mx-auto px-6 pt-36 pb-8">
    <div class="flex flex-col md:flex-row justify-between items-end gap-6 mb-16">
      <div>
        <h1 class="text-5xl font-black text-slate-900 tracking-tighter mb-4 i18n" data-zh="åº”ç”¨çŸ©é˜µ" data-en="Application Matrix">åº”ç”¨çŸ©é˜µ</h1>
        <p class="text-slate-400 font-bold i18n" data-zh="é«˜æ•ˆæ•°å­—åŒ–å·¥ä½œæµã€‚æ¬¢è¿å›åˆ° 618002.xyzã€‚" data-en="High-efficiency digital workflow. Welcome back to 618002.xyz.">é«˜æ•ˆæ•°å­—åŒ–å·¥ä½œæµã€‚æ¬¢è¿å›åˆ° 618002.xyzã€‚</p>
      </div>
      <div class="flex gap-2 p-1.5 bg-white rounded-2xl border border-gray-100 shadow-sm" id="filters">
        <button onmouseenter="filter('all')" id="btn-all" class="px-5 py-2.5 rounded-xl text-xs font-black bg-slate-900 text-white shadow-md transition-all i18n" data-zh="å…¨éƒ¨" data-en="All">å…¨éƒ¨</button>
        <button onmouseenter="filter('dev')" id="btn-dev" class="px-5 py-2.5 rounded-xl text-xs font-black text-slate-400 hover:bg-gray-50 transition-all i18n" data-zh="å¼€å‘å·¥å…·" data-en="Tools">ç®¡ç†</button>
        <button onmouseenter="filter('ai')" id="btn-ai" class="px-5 py-2.5 rounded-xl text-xs font-black text-slate-400 hover:bg-gray-50 transition-all i18n" data-zh="äººå·¥æ™ºèƒ½" data-en="AI">äººå·¥æ™ºèƒ½</button>
      </div>
    </div>

    <div id="grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8"></div>
    <div id="empty" class="hidden text-center py-32"><div class="text-7xl mb-4">ğŸ”</div><p class="text-slate-400 font-black i18n" data-zh="æ²¡æœ‰æ‰¾åˆ°ä»»ä½•åŒ¹é…ç»“æœ" data-en="No matching results found">æ²¡æœ‰æ‰¾åˆ°ä»»ä½•åŒ¹é…ç»“æœ</p></div>
  </main>

  <div id="modal" class="fixed inset-0 z-[100] hidden flex items-center justify-center p-4">
    <div class="absolute inset-0 bg-slate-900/60 backdrop-blur-md transition-opacity" onclick="closeModal()"></div>
    <div class="relative bg-white w-full max-w-4xl rounded-[40px] shadow-2xl flex flex-col md:flex-row overflow-hidden border border-gray-100 animate-in zoom-in-95 duration-300">
        <div class="p-12 md:w-1/2 flex flex-col justify-between">
            <div>
                <div class="flex items-center gap-6 mb-10">
                    <div id="modalIcon" class="w-20 h-20 rounded-3xl flex items-center justify-center text-4xl shadow-inner text-white flex-shrink-0 bg-slate-900"></div>
                    <h2 id="modalTitle" class="text-4xl font-black text-slate-900 tracking-tighter leading-tight"></h2>
                </div>
                <p id="modalDesc" class="text-slate-500 font-medium text-lg leading-relaxed mb-8"></p>
            </div>
            <button id="launchBtn" class="w-full py-5 btn-dark rounded-2xl font-black text-lg shadow-2xl i18n" data-zh="ç«‹å³è¿›å…¥ç³»ç»Ÿ" data-en="Launch System">ç«‹å³è¿›å…¥ç³»ç»Ÿ</button>
        </div>
        <div class="p-12 md:w-1/2 bg-slate-50/80 overflow-y-auto max-h-[550px]">
            <h3 class="text-[10px] font-black text-slate-400 uppercase tracking-widest mb-8 border-b border-gray-100 pb-4 i18n" data-zh="ç³»ç»Ÿåé¦ˆ" data-en="User Feedback">ç³»ç»Ÿåé¦ˆ</h3>
            <div id="modalComments" class="space-y-4"></div>
        </div>
        <button onclick="closeModal()" class="absolute top-8 right-8 w-10 h-10 bg-white rounded-full flex items-center justify-center shadow-lg text-slate-400 hover:text-slate-900 transition-all"><i class="ri-close-line text-2xl"></i></button>
    </div>
  </div>

  <script>
    let currentLang = localStorage.getItem('lang') || 'zh';
    function setLanguage(lang) {
        currentLang = lang;
        localStorage.setItem('lang', lang);
        document.querySelectorAll('.lang-btn').forEach(b => b.classList.remove('active'));
        document.getElementById('lang-' + lang).classList.add('active');
        document.querySelectorAll('.i18n').forEach(el => { el.innerText = el.getAttribute('data-' + lang); });
        apply(); syncUser();
    }

    const tools = [
      { id:'stock', title_zh:'å…ƒå™¨ä»¶ç®¡ç†', title_en:'Inventory Management', desc_zh:'åº“å­˜ã€BOMã€æ‰«ç ä¸€ä½“åŒ–', desc_en:'Stock, BOM, QR integrated', lDesc_zh:'å…¨æ–¹ä½æ•°å­—åŒ–ä»“å‚¨è§£å†³æ–¹æ¡ˆã€‚', lDesc_en:'Full digital warehouse solution.', icon:'ri-cpu-fill', cat:'dev', color:'bg-gradient-to-br from-blue-500 to-indigo-600', comments:[{zh:'BOMè§£æå‡†ç¡®', en:'Accurate BOM parsing'},{zh:'æ•ˆç‡å¾ˆé«˜', en:'High efficiency'}] , url:'/inventory/' },
      { id:'serial', title_zh:'äº‘ç«¯ä¸²å£è°ƒè¯•', title_en:'Serial Terminal', desc_zh:'Web Serial API ç›´è¿', desc_en:'Hardware debug via web', lDesc_zh:'åŸºäº Web Serial API çš„ä¸“ä¸šä¸²å£è°ƒè¯•å·¥å…·ã€‚', lDesc_en:'Professional web-based serial terminal.', icon:'ri-terminal-line', cat:'dev', color:'bg-gradient-to-br from-indigo-500 to-purple-600', comments:[{zh:'æ— éœ€å®‰è£…é©±åŠ¨', en:'Driverless'},{zh:'é«˜é€Ÿç¨³å®š', en:'High speed & stable'}] , url:'/serial/' },
      { id:'ble', title_zh:'è®¾å¤‡è“ç‰™é…ç½‘', title_en:'BLE Configurator', desc_zh:'Web Bluetooth API é…ç½‘', desc_en:'Provision IoT via BLE', lDesc_zh:'åŸºäº Web Bluetooth API çš„æç®€é…ç½‘å·¥å…·ã€‚', lDesc_en:'Minimalist provisioning tool via Web Bluetooth.', icon:'ri-bluetooth-connect-line', cat:'dev', color:'bg-gradient-to-br from-blue-500 to-cyan-500', comments:[{zh:'é…ç½‘éå¸¸å¿«', en:'Very fast provisioning'},{zh:'è‹¹æœé£ UI å¾ˆæ£’', en:'Apple-style UI'}] , url:'/ble_config/' },
      { id:'lvgl', title_zh:'LVGL å›¾åƒå¤„ç†', title_en:'LVGL Image Tool', desc_zh:'åµŒå…¥å¼ç´ æè½¬æ¢', desc_en:'Embedded Asset Converter', lDesc_zh:'ä¸“ä¸º LVGL è®¾è®¡çš„å›¾åƒèµ„äº§å¤„ç†å·¥å…·ã€‚', lDesc_en:'Professional image converter for LVGL.', icon:'ri-image-edit-fill', cat:'dev', color:'bg-gradient-to-br from-emerald-500 to-teal-600', comments:[{zh:'è½¬æ¢é€Ÿåº¦æå¿«', en:'Fast conversion'}] , url:'/lvgl_image/' },
      { id:'ai', title_zh:'AI è¯†åˆ«ä¸­å¿ƒ', title_en:'AI Analysis', desc_zh:'è§†è§‰æ¨¡å‹ç‰©æ–™åˆ†æ', desc_en:'Visual Model Analysis', lDesc_zh:'åŸºäºå°–ç«¯æ·±åº¦å­¦ä¹ æ¨¡å‹ã€‚', lDesc_en:'Advanced AI visual analysis.', icon:'ri-eye-fill', cat:'ai', color:'bg-gradient-to-br from-purple-500 to-pink-600', comments:[{zh:'OCR å‡†ç¡®ç‡å¾ˆé«˜', en:'High OCR accuracy'}] , url:'/ai_tools' },
      { id:'admin', title_zh:'ç³»ç»Ÿæ§åˆ¶å°', title_en:'Admin Panel', desc_zh:'æƒé™ä¸å…¨å±€æ—¥å¿—å®¡è®¡', desc_en:'Auth & Audit logs', lDesc_zh:'ç®¡ç†å‘˜ä¸“ç”¨æŒ‡æŒ¥ä¸­å¿ƒã€‚', lDesc_en:'Dedicated admin console.', icon:'ri-terminal-box-fill', cat:'dev', color:'bg-gradient-to-br from-slate-700 to-slate-900', comments:[{zh:'æ—¥å¿—å®¡è®¡å¾ˆè¯¦ç»†', en:'Detailed audit logs'}] , url:'/admin' }
    ];

    function render(list) {
      const g = document.getElementById('grid'), e = document.getElementById('empty');
      if(list.length === 0) { g.innerHTML = ''; e.classList.remove('hidden'); return; }
      e.classList.add('hidden');
      g.innerHTML = list.map(t => `
        <div class="bento-card p-10 rounded-[36px] cursor-pointer group relative overflow-hidden" onclick="openModal('${t.id}')">
          <div class="w-16 h-16 ${t.color} rounded-2xl flex items-center justify-center text-white text-3xl mb-8 shadow-xl group-hover:scale-110 transition-transform"><i class="${t.icon}"></i></div>
          <h3 class="text-2xl font-black text-slate-900 mb-2 tracking-tight">${currentLang==='zh'?t.title_zh:t.title_en}</h3>
          <p class="text-slate-400 font-bold text-sm leading-relaxed">${currentLang==='zh'?t.desc_zh:t.desc_en}</p>
        </div>`).join('');
    }

    let currentCat = 'all';
    function filter(c) {
      currentCat = c;
      ['all','dev','ai'].forEach(id => {
        const btn = document.getElementById('btn-'+id); if(!btn) return;
        btn.className = id === c ? "px-5 py-2.5 rounded-xl text-xs font-black bg-slate-900 text-white shadow-md transition-all" : "px-5 py-2.5 rounded-xl text-xs font-black text-slate-400 hover:bg-gray-50 transition-all";
      });
      apply();
    }

    function apply() {
      const s = document.getElementById('globalSearch').value.toLowerCase();
      const f = tools.filter(t => {
          const title = (currentLang==='zh'?t.title_zh:t.title_en).toLowerCase();
          return (currentCat==='all' || t.cat===currentCat) && title.includes(s);
      });
      render(f);
    }

    document.getElementById('globalSearch').addEventListener('input', apply);

    function openModal(id) {
      const t = tools.find(x => x.id === id);
      document.getElementById('modalTitle').innerText = currentLang==='zh'?t.title_zh:t.title_en;
      document.getElementById('modalDesc').innerText = currentLang==='zh'?t.lDesc_zh:t.lDesc_en;
      document.getElementById('modalIcon').className = "w-20 h-20 rounded-3xl flex items-center justify-center text-4xl shadow-inner text-white flex-shrink-0 " + t.color;
      document.getElementById('modalIcon').innerHTML = `<i class="${t.icon}"></i>`;
      document.getElementById('launchBtn').onclick = () => location.href = t.url;
      document.getElementById('modalComments').innerHTML = t.comments.map(c => `
        <div class="bg-white p-5 rounded-3xl border border-gray-100 text-sm text-slate-600 shadow-sm font-bold">
          <i class="ri-chat-smile-fill text-blue-100 mr-2"></i>${currentLang==='zh'?c.zh:c.en}
        </div>`).join('');
      document.getElementById('modal').classList.remove('hidden');
    }
    function closeModal() { document.getElementById('modal').classList.add('hidden'); }

    async function syncUser() {
      try {
        const r = await fetch('/auth/profile_api');
        const d = await r.json();
        const area = document.getElementById('user-area');
        if(d.success && d.user) {
          area.innerHTML = `<div class="flex items-center gap-2 p-1.5 pr-4 rounded-full bg-white border border-gray-100 shadow-sm cursor-pointer hover:bg-slate-50 transition-all" onclick="toggleUserMenu()"><img src="${d.user.avatar}" class="w-8 h-8 rounded-full object-cover"><span class="text-sm font-bold text-slate-700 hidden md:inline">${d.user.username}</span><i class="ri-arrow-down-s-line text-slate-400"></i></div><div id="userMenu" class="absolute right-0 mt-3 w-48 bg-white rounded-2xl shadow-2xl border border-gray-100 opacity-0 invisible transition-all p-2 z-50 transform origin-top-right"><div class="px-4 py-2 border-b border-gray-50 mb-1 text-[10px] font-black text-blue-500 uppercase tracking-widest">${d.user.role.toUpperCase()} MEMBER</div><a href="/profile" class="flex items-center gap-3 px-4 py-2.5 text-sm font-bold text-slate-600 hover:bg-blue-50 hover:text-blue-600 rounded-xl transition no-underline"><i class="ri-user-settings-fill"></i> ${currentLang==='zh'?'ä¸ªäººä¸­å¿ƒ':'Profile'}</a><button onclick="location.href='/logout'" class="w-full flex items-center gap-3 px-4 py-2.5 text-sm font-bold text-red-500 hover:bg-red-50 rounded-xl transition text-left border-0 bg-transparent"><i class="ri-logout-box-fill"></i> ${currentLang==='zh'?'é€€å‡ºç™»å½•':'Logout'}</button></div>`;
        } else {
          area.innerHTML = `<a href="/login" class="px-6 py-2.5 btn-dark rounded-full text-sm font-bold shadow-lg">${currentLang==='zh'?'ç«‹å³ç™»å½•':'LOGIN'}</a>`;
        }
      } catch(e){}
    }
    function toggleUserMenu() { const m = document.getElementById('userMenu'); if(m) { m.classList.toggle('opacity-0'); m.classList.toggle('invisible'); } }
    setLanguage(currentLang);
  </script>

  <!-- ğŸŒ å…¨ç«™å¤šç»´ SEO æ ¸å¿ƒå…³é”®è¯æ¤å…¥ (è§†è§‰éšå½¢ï¼Œçˆ¬è™«å¯è§) -->
  <section style="margin-top: 40px; padding: 24px; border-top: 1px solid #f1f5f9; opacity: 0.2; filter: grayscale(1);">
      <h2 style="font-size: 11px; font-weight: 900; color: #64748b; margin-bottom: 12px; text-transform: uppercase; letter-spacing: 1px;">Global Engineering & Productivity Hub</h2>
      <div style="font-size: 10px; line-height: 1.8; color: #94a3b8; font-weight: 500;">
          <p><strong>618002.xyz</strong> æ˜¯ä¸€ä¸ªé¢å‘å¼€å‘è€…ä¸åˆ›å®¢çš„<strong>å…¨èƒ½åœ¨çº¿å·¥å…·é›†</strong>ã€‚æ ¸å¿ƒæ¶µç›–ï¼š<strong>Web Serial API ä¸²å£è°ƒè¯•å·¥å…·</strong>ï¼ˆè§£å†³<strong>å•ç‰‡æœºå…é©±åŠ¨è°ƒè¯•</strong>ç—›ç‚¹ï¼‰ã€<strong>å…ƒå™¨ä»¶æ™ºèƒ½ç®¡ç†ç³»ç»Ÿ</strong>ï¼ˆæ”¯æŒ<strong>BOMè‡ªåŠ¨è§£æ</strong>ä¸<strong>äºŒç»´ç ä»“å‚¨ç®¡ç†</strong>ï¼‰ã€<strong>LVGL åœ¨çº¿å›¾åƒè½¬æ¢</strong>ã€ä»¥åŠ <strong>BLE è“ç‰™åœ¨çº¿é…ç½®åŠ©æ‰‹</strong>ã€‚</p>
      </div>
  </section>
</body>
</html>
